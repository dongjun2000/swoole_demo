<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
ws
<script>
    // 向服务器发出建立WebSocket连接的请求，连接建立以后，客户端和服务器端就可以通过TCP连接直接交换数据。
    // 连接建立后，可以通过 send() 方法来向务器发送数据，并通过 onMessage 事件来接收服务器返回的数据。
    // 连接建立后，可以通过 close() 方法主动关闭连接， 并触发 onClose 事件。
    var ws = new WebSocket('ws://127.0.0.1:9502');

    // 连接建立时触发
    websocket.onopen = function () {
        console.log('建立连接');
        this.send('Hello');
    };

    // 客户端接收服务端数据时触发
    // data为结构赋值
    websocket.onmessage = function ({data}) {
        console.log("接收数据：", data);
    };

    // 连接关闭时触发
    websocket.onerror = function (event) {
        console.log("发生错误", event);
    };

    // 连接关闭时触发
    websocket.onclose = function (event) {
        console.log("连接关闭", event);
    };
</script>
</body>
</html>